STDOUT.sync=1;_,_,_,f,p,_,_,n=gets.split.map(&:to_i);D=Hash[n.times.map{gets.split.map(&:to_i)}<<[f,p]];loop{a,b,c=gets.split;puts a.to_i<0?'WAIT':(c<'M'&&D[a.to_i]>b.to_i||c>='M'&&D[a.to_i]<b.to_i)&&'BLOCK'||'WAIT'}
